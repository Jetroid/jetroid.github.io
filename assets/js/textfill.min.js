(function(){var t=function(g,k){function e(){b.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function t(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function v(a,n,c,g,k,f,D,G,h){function d(b,a){var n=" / ";b>a?n=" > ":b==a&&(n=" = ");return n}b.debug&&e("[TextFill] "+a+" { font-size: "+D+", Height: "+n.offsetHeight+"px "+d(n.offsetHeight,c)+c+"px, Width: "+n.offsetWidth+d(n.offsetWidth,
g)+g+", minFontPixels: "+k+"px, maxFontPixels: "+f+"px, }")}function x(b,a,c,e,g,k,f,d,h,l,m){v(b,a,g,k,f,d,h);a.style.letterSpacing=m;a.style.lineHeight=l;for(a.style.display="inline";f<Math.floor(d)-1;){h=Math.floor((f+d)/2);a.style.fontSize=h+"px";l=a[c];if(l<=e){if(f=h,l==e)break}else d=h;v(b,a,g,k,f,d,h)}a.style.fontSize=d+"px";a[c]<=e&&(f=d,v(b+"* ",a,g,k,f,d,d));return f}function y(b){var a=b.getElementsByClassName("textfill-clho")[0];if(null!=a){for(;a.firstChild;)b.insertBefore(a.firstChild,
a);b.removeChild(a)}}k=k||{};var b={debug:!1,maxFontPixels:0,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1,correctLineHeightOffset:!0,allowOverflow:!1,autoResize:!1},h;for(h in b)k.hasOwnProperty(h)&&(b[h]=k[h]);e("[TextFill] Start Debug");if("string"===typeof g){e("[TextFill] First Parameter was a string; applying querySelectorAll.");var u=document.querySelectorAll(g)}else g instanceof Element||g instanceof
HTMLDocument?(e("[TextFill] First Parameter was a DOM element"),u=[g]):g.length&&(e("[TextFill] First Parameter had the length property; probably jQuery."),u=g);for(h=0;h<u.length;h++){var c=u[h];e("[TextFill] Parent Element: ",c);b.autoResize?c.setAttribute("data-textfill-resize-options",JSON.stringify(k||{})):c.removeAttribute("data-textfill-resize-options");y(c);var l=c.id;c.id="textfill-parent-id";var a=c.querySelector("#textfill-parent-id > "+b.innerTag);c.id=l;if(null===a)b.fail&&b.fail(c),
t("[TextFill] Failure: Element has no direct children matching the `"+b.innerTag+"` selector.\n",c);else{var q=window.getComputedStyle(a);e("[TextFill] Inner text: "+a.textContent);e("[TextFill] All options: ",b);e("[TextFill] Maximum sizes: { Height: "+m+"px, Width: "+r+"px }");if("none"===q)b.fail&&b.fail(c),e("[TextFill] Failure: Inner element not visible.");else{var m=b.explicitHeight||c.offsetHeight,r=b.explicitWidth||c.offsetWidth;l=q.getPropertyValue("font-size");var p=q.getPropertyValue("line-height"),
f=q.getPropertyValue("letter-spacing");q=a.style.fontSize;var E=a.style.lineHeight,F=a.style.letterSpacing,d=a.style.display;p=parseFloat(p)/parseFloat(l);f=parseFloat(f)/parseFloat(l);var z=b.minFontPixels,A=0>=b.maxFontPixels?m:b.maxFontPixels,B=void 0;b.widthOnly||(B=x("Height",a,"offsetHeight",m,m,r,z,A,l,p,f));var w=void 0;b.widthOnly&&(a.style.whiteSpace="nowrap");w=x("Width",a,"offsetWidth",r,m,r,z,A,l,p,f);f=b.widthOnly?w:Math.min(B,w);a.style.fontSize=f+"px";a.style.display=d;b.correctLineHeightOffset&&
!isNaN(p)&&1!==p&&(d=document.createElement("div"),c.replaceChild(d,a),d.appendChild(a),d.className="textfill-clho",d.style.top=-(p-1)/2+"em",d.style.fontSize=f+"px",d.style.position="relative");b.changeLineHeight&&(c.style.lineHeight=lineHeight*f+"px");a.offsetWidth>r&&!b.allowOverflow||a.offsetHeight>m&&!b.widthOnly&&!b.allowOverflow?(a.style.fontSize=q,a.style.letterSpacing=F,a.style.lineHeight=E,y(c),b.fail&&b.fail(c),e("[TextFill] Failure { Reason: Either exceeded original size or attempted to go below minFontPixels... Current Width: "+
a.offsetWidth+", Maximum Width: "+r+", Current Height: "+a.offsetHeight+", Maximum Height: "+m+" }")):(b.success&&b.success(c),e("[TextFill] Finished { Old font-size: "+l+", New font-size: "+f+" }"))}}}b.complete&&b.complete();e("[TextFill] End Debug")};window.addEventListener("resize",function(){for(var g=document.querySelectorAll("*[data-textfill-resize-options]"),k=0;k<g.length;k++){var e=g[k],C=JSON.parse(e.getAttribute("data-textfill-resize-options"));t(e,C)}});"undefined"!==typeof module&&"undefined"!==
typeof module.exports?module.exports=t:window.TextFill=t})();